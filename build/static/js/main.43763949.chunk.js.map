{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Loader/Loader.js","services/searchApi.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","styles","this","SearchForm","type","Button","ButtonLabel","Input","autoComplete","autoFocus","placeholder","onChange","Component","PropTypes","func","isRequired","onClick","ImageGalleryItem","image","src","alt","ImageGallery","pictures","bigImage","map","id","webformatURL","largeImageURL","modalRoot","document","querySelector","Modal","handleKeyDown","code","showModal","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","loader","color","height","width","timeout","searchApi","page","console","log","axios","get","then","data","hits","App","largeImage","imgTags","error","isLoading","toggleModal","fetchPictures","options","prevState","catch","finally","onChangeQuery","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","Loader","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.43763949.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__6-Ip_\",\"image\":\"ImageGalleryItem_image__4EZ49\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2Pb5n\",\"Modal\":\"Modal_Modal__3_owh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3J-zX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1fbPZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__Xqyzj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1VBpl\"};","import { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nclass Searchbar extends Component {\r\n\r\n    state = {\r\n        query: ''\r\n    }\r\n    handleChange = event => {\r\n        this.setState({\r\n            query: event.currentTarget.value,\r\n        })\r\n    }\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({ query: '' });\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <header className={styles.Searchbar}>\r\n                <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\r\n                    <button type=\"submit\" className={styles.Button}>\r\n                        <span className={styles.ButtonLabel}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={styles.Input}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        onChange={this.handleChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Searchbar;\r\n\r\nPropTypes.Searchbar = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n}","import styles from \"./Button.module.css\";\r\nimport PropTypes from \"prop-types\"\r\n\r\nconst Button = ({ onClick }) => {\r\n    return (\r\n        <button type=\"button\" className={styles.Button} onClick={onClick}>\r\n            Load more\r\n        </button>\r\n    )\r\n}\r\nexport default Button;\r\n\r\nPropTypes.Button = {\r\n    onClick: PropTypes.func.isRequired,\r\n}","\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ image, onClick }) => {\r\n    return (\r\n        <li className={styles.ImageGalleryItem}>\r\n            <img\r\n                src={image}\r\n                alt=\"\"\r\n                className={styles.image}\r\n                onClick={onClick} />\r\n        </li>\r\n    )\r\n}\r\nexport default ImageGalleryItem;","import styles from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ pictures, bigImage }) => {\r\n    return (\r\n        <ul className={styles.ImageGallery}>\r\n            {pictures.map(({ id, webformatURL, largeImageURL }) => {\r\n                const handleItemClick = () => bigImage(largeImageURL);\r\n                return (\r\n                    <ImageGalleryItem\r\n                        key={id}\r\n                        image={webformatURL}\r\n                        onClick={handleItemClick}\r\n                    />\r\n                )\r\n            })}\r\n        </ul>\r\n    )\r\n}\r\nexport default ImageGallery;","import { Component } from \"react\";\r\n\r\nimport { createPortal } from \"react-dom\";\r\nimport styles from \"./Modal.module.css\"\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown = event => {\r\n        if (event.code === 'Escape') {\r\n            this.props.showModal();\r\n        }\r\n    }\r\n\r\n    handleBackdropClick = event => {\r\n        if (event.currentTarget === event.target) {\r\n            this.props.showModal();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return createPortal(\r\n            <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n                <div className={styles.Modal}>{this.props.children}</div>\r\n            </div>\r\n            , modalRoot);\r\n    }\r\n}\r\nexport default Modal;","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from \"./Loader.module.css\"\r\n\r\nconst loader = () => {\r\n    return (\r\n        <Loader\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000}\r\n            className={styles.loader}\r\n        />\r\n    );\r\n}\r\nexport default loader;","import axios from 'axios';\r\n\r\nconst key = '23512554-e547646786d485755b782e033';\r\n\r\n\r\nconst searchApi = ({ query = '', page = 1 }) => {\r\n    console.log(query);\r\n    return axios\r\n        .get(\r\n            `https://pixabay.com/api/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n        )\r\n        .then(({ data }) => data.hits);\r\n}\r\nexport default searchApi;\r\n\r\n","import React, { Component } from 'react';\n\nimport styles from \"./App.module.css\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport Button from \"./components/Button/Button\";\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\nimport Loader from './components/Loader/Loader';\nimport searchApi from './services/searchApi';\n\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    page: 1,\n    query: '',\n    largeImage: '',\n    imgTags: '',\n    error: '',\n    showModal: false,\n    isLoading: false,\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchPictures();\n    }\n    if (this.state.page !== 2 && prevState.page !== this.state.page) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n\n  toggleModal = () => {\n    this.setState(state => (\n      { showModal: !state.showModal, }\n    ))\n  }\n  bigImage = (largeImage = '') => {\n    this.setState({ largeImage });\n    this.toggleModal();\n  }\n\n  fetchPictures = () => {\n    const { page, query } = this.state;\n    const options = {\n      page,\n      query,\n    };\n    this.setState({ isLoading: true });\n\n    searchApi(options)\n      .then(pictures => {\n        this.setState(prevState => ({\n          pictures: [...prevState.pictures, ...pictures],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch(error => this.setState({ error: 'Picture not found' }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onChangeQuery = query => {\n    this.setState({\n      query: query,\n      page: 1,\n      pictures: [],\n      error: null,\n    })\n  };\n\n  render() {\n    const {\n      pictures,\n      isLoading,\n      error,\n      showModal,\n      largeImage,\n      imgTags,\n    } = this.state;\n\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        {error && <h1>{error}</h1>}\n\n        <ImageGallery pictures={pictures} bigImage={this.bigImage} />\n\n        {isLoading && <Loader />}\n\n        {pictures.length > 11 && !isLoading && (\n          <Button onClick={this.fetchPictures} />\n        )}\n\n        {showModal && (\n          <Modal showModal={this.bigImage}>\n            <img src={largeImage} alt={imgTags} />\n          </Modal>\n        )}\n\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js';\nimport 'modern-normalize/modern-normalize.css';\nimport \"./styles.css\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2i7xP\",\"SearchForm\":\"Searchbar_SearchForm__ED5hk\",\"Button\":\"Searchbar_Button__2UuVG\",\"ButtonLabel\":\"Searchbar_ButtonLabel__36htx\",\"Input\":\"Searchbar_Input__1N_Mv\"};"],"sourceRoot":""}